<h2>Book Details</h2>

@if (isLoading()) {
  <p>Loading book detailsâ€¦</p>
}

@if (errorMessage()) {
  <p class="error">{{ errorMessage() }}</p>
}

@if (book()) {
  @if (!isEditing()) {
    <ul>
      <li><strong>Title:</strong> {{ book()?.title }}</li>
      <li><strong>Author:</strong> {{ book()?.author }}</li>
      <li><strong>Publisher:</strong> {{ book()?.publisher }}</li>
      <li><strong>ISBN:</strong> {{ book()?.isbn }}</li>
    </ul>
    <div class="actions">
      <button (click)="toggleEdit()">Edit</button>
      <button (click)="deleteBook()" class="delete-btn">Delete</button>
    </div>
  } @else {
    <form [formGroup]="editForm" (ngSubmit)="updateBook()" class="registration-form">
      <div class="form-group">
        <label for="title">Title:</label>
        <input id="title" type="text" formControlName="title">
      </div>
      <div class="form-group">
        <label for="author">Author:</label>
        <input id="author" type="text" formControlName="author">
      </div>
      <div class="form-group">
        <label for="publisher">Publisher:</label>
        <input id="publisher" type="text" formControlName="publisher">
      </div>
      <div class="actions">
        <button type="submit" [disabled]="editForm.invalid">Save</button>
        <button type="button" (click)="toggleEdit()">Cancel</button>
      </div>
    </form>
  }
}
